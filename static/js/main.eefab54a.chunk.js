(this["webpackJsonptest-react-graphql"]=this["webpackJsonptest-react-graphql"]||[]).push([[0],{26:function(e,t,a){e.exports={PostCard:"PostCard_PostCard__ORuDz",UserImage:"PostCard_UserImage__rkU0M",PostContent:"PostCard_PostContent__3W53f",Author:"PostCard_Author__2MPb9",PostTitle:"PostCard_PostTitle__35rKD",PostBody:"PostCard_PostBody__Abv7m"}},34:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1SVee",Header:"NavBar_Header__UJAGq",LogoutButton:"NavBar_LogoutButton__1VEBL",NavBarButton:"NavBar_NavBarButton__1IrG8"}},35:function(e,t,a){e.exports={LoginHeader:"Login_LoginHeader__1JtKF",LoginContent:"Login_LoginContent__3zS45",Login:"Login_Login__1smD9",warning:"Login_warning__1vm5b"}},43:function(e,t,a){e.exports=a.p+"static/media/user-icon.7af4ad35.png"},44:function(e,t,a){e.exports={ProfileCard:"Profile_ProfileCard__2HZgY",UserImage:"Profile_UserImage__3f3TF",UserInfo:"Profile_UserInfo__fsNEl"}},48:function(e,t,a){e.exports={UsersList:"Posts_UsersList__31YPF"}},72:function(e,t,a){e.exports={Loader:"Loader_Loader__3JFA1","lds-ring":"Loader_lds-ring__1fveN"}},73:function(e,t,a){e.exports=a(90)},78:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(68),l=a.n(o),s=(a(78),a(33)),c=a(21),u=a(47);function i(){var e=Object(u.a)(["\n    query {\n      user(userId: ",") {\n        name\n        email\n        address {\n          street\n          suite\n          city\n          zipcode\n        }\n        phone\n        website\n        company {\n          name\n          catchPhrase\n          bs\n        }\n      }\n    }\n"]);return i=function(){return e},e}function m(){var e=Object(u.a)(["\n    query {\n      posts(pagination: {limit:100}) {\n        count\n        data {\n          id\n          title\n          body\n          author {\n            id\n            name\n          }\n        }\n      }\n    }   \n"]);return m=function(){return e},e}var d=Object(c.gql)(m()),E=a(48),g=a.n(E),p=a(26),_=a.n(p),v=a(8),f=a(43),h=a.n(f),b=function(e){var t=e.user,a=(t.id,t.title),n=t.body,o=t.author,l=Object(v.g)();return r.a.createElement("div",{className:_.a.PostCard,onClick:function(){l.push("/user/".concat(o.id))}},r.a.createElement("img",{className:_.a.UserImage,alt:"",src:h.a}),r.a.createElement("div",{className:_.a.PostContent},r.a.createElement("h2",{className:_.a.Author},"Author: ",o.name),r.a.createElement("h3",{className:_.a.PostTitle},"Title: ",a),r.a.createElement("p",{className:_.a.PostBody},n," ")))},N=r.a.createContext(),P="authReducer/LOGIN",L={user:"",loggedIn:!1},y=function(e,t){switch(t.type){case P:return{user:t.user,loggedIn:!0};case"authReducer/LOGOUT":return{user:"",loggedIn:!1};default:return e}},C=a(34),O=a.n(C),B=function(e){var t=e.header,a=e.button,o=Object(n.useContext)(N),l=o.state,s=o.dispatch,c=Object(v.g)();return r.a.createElement("div",{className:O.a.NavBar},a&&r.a.createElement("button",{className:O.a.NavBarButton,onClick:function(){a&&c.push(a.link)}},a.title),r.a.createElement("h2",{className:O.a.Header},t),r.a.createElement("p",null,l.user?"Hello, ".concat(l.user," !"):"Hello!"),r.a.createElement("button",{className:O.a.LogoutButton,onClick:function(){localStorage.removeItem("userName"),s({type:"authReducer/LOGOUT"})}},"Logout"))},I=a(72),U=a.n(I),j=function(){return r.a.createElement("div",{className:U.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},w=function(){var e=Object(c.useQuery)(d),t=e.loading,a=e.error,n=e.data;return t?r.a.createElement(j,null):a?r.a.createElement("p",null,"Error :("):r.a.createElement("div",{className:g.a.Users},r.a.createElement(B,{header:"Posts List"}),r.a.createElement("div",{className:g.a.UsersList},n.posts.data.map((function(e){return r.a.createElement(b,{key:e.id,user:e})}))))},x=a(44),k=a.n(x),A=function(){var e=Object(v.h)().userId,t=Object(c.useQuery)(function(e){return Object(c.gql)(i(),e)}(e)),a=t.loading,n=t.error,o=t.data;return a?r.a.createElement(j,null):n?r.a.createElement("p",null,"Error :("):r.a.createElement("div",null,r.a.createElement(B,{header:"Profile",button:{title:"<",link:"/"}}),r.a.createElement("div",{className:k.a.ProfileCard},r.a.createElement("img",{className:k.a.UserImage,alt:"",src:h.a}),r.a.createElement("div",{className:k.a.UserInfo},r.a.createElement("h2",null,o.user.name),r.a.createElement("ul",null,r.a.createElement("li",null,"Email: ",o.user.email),r.a.createElement("li",null,"Adress: ",o.user.address.city,", ",o.user.address.street,", ",o.user.address.suite,", ",o.user.address.zipcode),r.a.createElement("li",null,"Phone: ",o.user.phone),r.a.createElement("li",null,"Website: ",o.user.website),r.a.createElement("li",null,"Company: ",o.user.company.name," (",o.user.company.catchPhrase,", ",o.user.company.bs,")")))))},H=a(35),q=a.n(H),S=function(){var e=Object(n.useContext)(N).dispatch,t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),i=u[0],m=u[1];return r.a.createElement("div",{className:q.a.Login},r.a.createElement("div",{className:q.a.LoginHeader},r.a.createElement("h2",null,"Login Page")),r.a.createElement("div",{className:q.a.LoginContent},r.a.createElement("p",null,"Hello! Enter your Name"),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),o){var a=(n=o,localStorage.setItem("userName",n),n);e({type:P,user:a})}else m(r.a.createElement("p",{className:q.a.warning},"Enter you name!"));var n}},r.a.createElement("input",{name:"login",type:"text",placeholder:"Enter Username",value:o,onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Login")),i))};a(88);var T=function(){var e=Object(n.useReducer)(y,L),t=Object(s.a)(e,2),a=t[0],o=t[1];if(!a.user){var l=localStorage.getItem("userName");l&&o({type:P,user:l})}return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement("div",{className:"app-content"},r.a.createElement(N.Provider,{value:{state:a,dispatch:o}},a.user?r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/user/:userId",render:function(){return r.a.createElement(A,null)}}),r.a.createElement(v.b,{exact:!0,path:"/",render:function(){return r.a.createElement(w,null)}}),r.a.createElement(v.a,{to:"/"})):r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/login",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(v.a,{to:"/login"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(27),J=new c.ApolloClient({uri:"https://api.graphqlplaceholder.com/",cache:new c.InMemoryCache});l.a.render(r.a.createElement(c.ApolloProvider,{client:J},r.a.createElement(G.a,null,r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.eefab54a.chunk.js.map